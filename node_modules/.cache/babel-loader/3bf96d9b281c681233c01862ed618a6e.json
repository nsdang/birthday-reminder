{"ast":null,"code":"import _toConsumableArray from \"/Users/anhnguyen/Desktop/GitHub/Projects/TimeMatcher/birthday-reminder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/Users/anhnguyen/Desktop/GitHub/Projects/TimeMatcher/birthday-reminder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"/Users/anhnguyen/Desktop/GitHub/Projects/TimeMatcher/birthday-reminder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/Users/anhnguyen/Desktop/GitHub/Projects/TimeMatcher/birthday-reminder/src/views/HomePage/index.js\";\nimport React, { useState, useRef, useEffect } from 'react';\nimport moment from 'moment';\nimport FullCalendar from '@fullcalendar/react';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport timeGridPlugin from '@fullcalendar/timegrid';\nimport interactionPlugin from '@fullcalendar/interaction';\nimport listPlugin from '@fullcalendar/list';\nimport timelinePlugin from '@fullcalendar/timeline';\nimport { makeStyles } from '@material-ui/styles';\nimport { Container, Modal, Card, CardContent, colors, useTheme, useMediaQuery } from '@material-ui/core';\nimport '@fullcalendar/core/main.css';\nimport '@fullcalendar/daygrid/main.css';\nimport '@fullcalendar/timegrid/main.css';\nimport '@fullcalendar/list/main.css';\nimport axios from 'src/utils/axios';\nimport Page from 'src/components/Page';\nimport AddEditEvent from './AddEditEvent';\nimport Toolbar from './Toolbar';\nimport Header from './Header';\nimport Statistics from './Statistics';\nimport Overview from './Overview';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      paddingTop: theme.spacing(3),\n      paddingBottom: theme.spacing(3),\n      '& .fc-unthemed td': {\n        borderColor: theme.palette.divider\n      },\n      '& .fc-widget-header': {\n        backgroundColor: colors.grey[50]\n      },\n      '& .fc-axis': _objectSpread({}, theme.typography.body2),\n      '& .fc-list-item-time': _objectSpread({}, theme.typography.body2),\n      '& .fc-list-item-title': _objectSpread({}, theme.typography.body1),\n      '& .fc-list-heading-main': _objectSpread({}, theme.typography.h6),\n      '& .fc-list-heading-alt': _objectSpread({}, theme.typography.h6),\n      '& .fc th': {\n        borderColor: theme.palette.divider\n      },\n      '& .fc-day-header': _objectSpread({}, theme.typography.subtitle2, {\n        fontWeight: 500,\n        color: theme.palette.text.secondary,\n        padding: theme.spacing(1),\n        backgroundColor: colors.grey[50]\n      }),\n      '& .fc-day-top': _objectSpread({}, theme.typography.body2),\n      '& .fc-highlight': {\n        backgroundColor: colors.blueGrey[50]\n      },\n      '& .fc-event': {\n        backgroundColor: theme.palette.primary.main,\n        color: theme.palette.primary.contrastText,\n        borderWidth: 2,\n        opacity: 0.9,\n        '& .fc-time': _objectSpread({}, theme.typography.h6, {\n          color: 'inherit'\n        }),\n        '& .fc-title': _objectSpread({}, theme.typography.body1, {\n          color: 'inherit'\n        })\n      },\n      '& .fc-list-empty': _objectSpread({}, theme.typography.subtitle1)\n    },\n    statistics: {\n      marginBottom: theme.spacing(3)\n    },\n    card: {\n      marginTop: theme.spacing(3)\n    }\n  };\n});\n\nfunction Calendar() {\n  var classes = useStyles();\n  var calendarRef = useRef(null);\n  var theme = useTheme();\n  var mobileDevice = useMediaQuery(theme.breakpoints.down('sm'));\n\n  var _useState = useState(mobileDevice ? 'listWeek' : 'dayGridMonth'),\n      _useState2 = _slicedToArray(_useState, 2),\n      view = _useState2[0],\n      setView = _useState2[1];\n\n  var _useState3 = useState(moment('2019-07-30 08:00:00').toDate()),\n      _useState4 = _slicedToArray(_useState3, 2),\n      date = _useState4[0],\n      setDate = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      events = _useState6[0],\n      setEvents = _useState6[1];\n\n  var _useState7 = useState({\n    open: false,\n    event: null\n  }),\n      _useState8 = _slicedToArray(_useState7, 2),\n      eventModal = _useState8[0],\n      setEventModal = _useState8[1];\n\n  var handleEventClick = function handleEventClick(info) {\n    var selected = events.find(function (event) {\n      return event.id === info.event.id;\n    });\n    setEventModal({\n      open: true,\n      event: selected\n    });\n  };\n\n  var handleEventNew = function handleEventNew() {\n    setEventModal({\n      open: true,\n      event: null\n    });\n  };\n\n  var handleEventDelete = function handleEventDelete(event) {\n    setEvents(function (currentEvents) {\n      return currentEvents.filter(function (e) {\n        return e.id !== event.id;\n      });\n    });\n    setEventModal({\n      open: false,\n      event: null\n    });\n  };\n\n  var handleModalClose = function handleModalClose() {\n    setEventModal({\n      open: false,\n      event: null\n    });\n  };\n\n  var handleEventAdd = function handleEventAdd(event) {\n    setEvents(function (currentEvents) {\n      return [].concat(_toConsumableArray(currentEvents), [event]);\n    });\n    setEventModal({\n      open: false,\n      event: null\n    });\n  };\n\n  var handleEventEdit = function handleEventEdit(event) {\n    setEvents(function (currentEvents) {\n      return currentEvents.map(function (e) {\n        return e.id === event.id ? event : e;\n      });\n    });\n    setEventModal({\n      open: false,\n      event: null\n    });\n  };\n\n  var handleDateToday = function handleDateToday() {\n    var calendarApi = calendarRef.current.getApi();\n    calendarApi.today();\n    setDate(calendarApi.getDate());\n  };\n\n  var handleViewChange = function handleViewChange(newView) {\n    var calendarApi = calendarRef.current.getApi();\n    calendarApi.changeView(newView);\n    setView(newView);\n  };\n\n  var handleDatePrev = function handleDatePrev() {\n    var calendarApi = calendarRef.current.getApi();\n    calendarApi.prev();\n    setDate(calendarApi.getDate());\n  };\n\n  var handleDateNext = function handleDateNext() {\n    var calendarApi = calendarRef.current.getApi();\n    calendarApi.next();\n    setDate(calendarApi.getDate());\n  };\n\n  useEffect(function () {\n    var mounted = true;\n\n    var fetchEvents = function fetchEvents() {\n      if (mounted) {\n        axios.get('/api/calendar').then(function (response) {\n          return setEvents(response.data.events);\n        });\n      }\n    };\n\n    fetchEvents();\n    return function () {\n      mounted = false;\n    };\n  }, []);\n  useEffect(function () {\n    var calendarApi = calendarRef.current.getApi();\n    var newView = mobileDevice ? 'listWeek' : 'dayGridMonth';\n    calendarApi.changeView(newView);\n    setView(newView);\n  }, [mobileDevice]);\n  return /*#__PURE__*/React.createElement(Page, {\n    className: classes.root,\n    title: \"Home Page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Overview, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Container, {\n    maxWidth: \"lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Toolbar, {\n    date: date,\n    onDateNext: handleDateNext,\n    onDatePrev: handleDatePrev,\n    onDateToday: handleDateToday,\n    onEventAdd: handleEventNew,\n    onViewChange: handleViewChange,\n    view: view,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Card, {\n    className: classes.card,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CardContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FullCalendar, {\n    allDayMaintainDuration: true,\n    defaultDate: date,\n    defaultView: view,\n    droppable: true,\n    editable: true,\n    eventClick: handleEventClick,\n    eventResizableFromStart: true,\n    events: events,\n    header: false,\n    height: 800,\n    plugins: [dayGridPlugin, timeGridPlugin, interactionPlugin, listPlugin, timelinePlugin],\n    ref: calendarRef,\n    rerenderDelay: 10,\n    selectable: true,\n    weekends: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(Modal, {\n    onClose: handleModalClose,\n    open: eventModal.open,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(AddEditEvent, {\n    event: eventModal.event,\n    onAdd: handleEventAdd,\n    onCancel: handleModalClose,\n    onDelete: handleEventDelete,\n    onEdit: handleEventEdit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 11\n    }\n  }))));\n}\n\nexport default Calendar;","map":{"version":3,"sources":["/Users/anhnguyen/Desktop/GitHub/Projects/TimeMatcher/birthday-reminder/src/views/HomePage/index.js"],"names":["React","useState","useRef","useEffect","moment","FullCalendar","dayGridPlugin","timeGridPlugin","interactionPlugin","listPlugin","timelinePlugin","makeStyles","Container","Modal","Card","CardContent","colors","useTheme","useMediaQuery","axios","Page","AddEditEvent","Toolbar","Header","Statistics","Overview","useStyles","theme","root","paddingTop","spacing","paddingBottom","borderColor","palette","divider","backgroundColor","grey","typography","body2","body1","h6","subtitle2","fontWeight","color","text","secondary","padding","blueGrey","primary","main","contrastText","borderWidth","opacity","subtitle1","statistics","marginBottom","card","marginTop","Calendar","classes","calendarRef","mobileDevice","breakpoints","down","view","setView","toDate","date","setDate","events","setEvents","open","event","eventModal","setEventModal","handleEventClick","info","selected","find","id","handleEventNew","handleEventDelete","currentEvents","filter","e","handleModalClose","handleEventAdd","handleEventEdit","map","handleDateToday","calendarApi","current","getApi","today","getDate","handleViewChange","newView","changeView","handleDatePrev","prev","handleDateNext","next","mounted","fetchEvents","get","then","response","data"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport moment from 'moment';\nimport FullCalendar from '@fullcalendar/react';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport timeGridPlugin from '@fullcalendar/timegrid';\nimport interactionPlugin from '@fullcalendar/interaction';\nimport listPlugin from '@fullcalendar/list';\nimport timelinePlugin from '@fullcalendar/timeline';\nimport { makeStyles } from '@material-ui/styles';\nimport {\n  Container,\n  Modal,\n  Card,\n  CardContent,\n  colors,\n  useTheme,\n  useMediaQuery\n} from '@material-ui/core';\nimport '@fullcalendar/core/main.css';\nimport '@fullcalendar/daygrid/main.css';\nimport '@fullcalendar/timegrid/main.css';\nimport '@fullcalendar/list/main.css';\nimport axios from 'src/utils/axios';\nimport Page from 'src/components/Page';\nimport AddEditEvent from './AddEditEvent';\nimport Toolbar from './Toolbar';\nimport Header from './Header';\nimport Statistics from './Statistics';\nimport Overview from './Overview';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    paddingTop: theme.spacing(3),\n    paddingBottom: theme.spacing(3),\n    '& .fc-unthemed td': {\n      borderColor: theme.palette.divider\n    },\n    '& .fc-widget-header': {\n      backgroundColor: colors.grey[50]\n    },\n    '& .fc-axis': {\n      ...theme.typography.body2\n    },\n    '& .fc-list-item-time': {\n      ...theme.typography.body2\n    },\n    '& .fc-list-item-title': {\n      ...theme.typography.body1\n    },\n    '& .fc-list-heading-main': {\n      ...theme.typography.h6\n    },\n    '& .fc-list-heading-alt': {\n      ...theme.typography.h6\n    },\n    '& .fc th': {\n      borderColor: theme.palette.divider\n    },\n    '& .fc-day-header': {\n      ...theme.typography.subtitle2,\n      fontWeight: 500,\n      color: theme.palette.text.secondary,\n      padding: theme.spacing(1),\n      backgroundColor: colors.grey[50]\n    },\n    '& .fc-day-top': {\n      ...theme.typography.body2\n    },\n    '& .fc-highlight': {\n      backgroundColor: colors.blueGrey[50]\n    },\n    '& .fc-event': {\n      backgroundColor: theme.palette.primary.main,\n      color: theme.palette.primary.contrastText,\n      borderWidth: 2,\n      opacity: 0.9,\n      '& .fc-time': {\n        ...theme.typography.h6,\n        color: 'inherit'\n      },\n      '& .fc-title': {\n        ...theme.typography.body1,\n        color: 'inherit'\n      }\n    },\n    '& .fc-list-empty': {\n      ...theme.typography.subtitle1\n    }\n  },\n  statistics: {\n    marginBottom: theme.spacing(3)\n  },\n  card: {\n    marginTop: theme.spacing(3)\n  }\n}));\n\nfunction Calendar() {\n  const classes = useStyles();\n  const calendarRef = useRef(null);\n  const theme = useTheme();\n  const mobileDevice = useMediaQuery(theme.breakpoints.down('sm'));\n  const [view, setView] = useState(mobileDevice ? 'listWeek' : 'dayGridMonth');\n  const [date, setDate] = useState(moment('2019-07-30 08:00:00').toDate());\n  const [events, setEvents] = useState([]);\n  const [eventModal, setEventModal] = useState({\n    open: false,\n    event: null\n  });\n\n  const handleEventClick = (info) => {\n    const selected = events.find((event) => event.id === info.event.id);\n\n    setEventModal({\n      open: true,\n      event: selected\n    });\n  };\n\n  const handleEventNew = () => {\n    setEventModal({\n      open: true,\n      event: null\n    });\n  };\n\n  const handleEventDelete = (event) => {\n    setEvents((currentEvents) => currentEvents.filter((e) => e.id !== event.id));\n    setEventModal({\n      open: false,\n      event: null\n    });\n  };\n\n  const handleModalClose = () => {\n    setEventModal({\n      open: false,\n      event: null\n    });\n  };\n\n  const handleEventAdd = (event) => {\n    setEvents((currentEvents) => [...currentEvents, event]);\n    setEventModal({\n      open: false,\n      event: null\n    });\n  };\n\n  const handleEventEdit = (event) => {\n    setEvents((currentEvents) => currentEvents.map((e) => (e.id === event.id ? event : e)));\n    setEventModal({\n      open: false,\n      event: null\n    });\n  };\n\n  const handleDateToday = () => {\n    const calendarApi = calendarRef.current.getApi();\n\n    calendarApi.today();\n    setDate(calendarApi.getDate());\n  };\n\n  const handleViewChange = (newView) => {\n    const calendarApi = calendarRef.current.getApi();\n\n    calendarApi.changeView(newView);\n    setView(newView);\n  };\n\n  const handleDatePrev = () => {\n    const calendarApi = calendarRef.current.getApi();\n\n    calendarApi.prev();\n    setDate(calendarApi.getDate());\n  };\n\n  const handleDateNext = () => {\n    const calendarApi = calendarRef.current.getApi();\n\n    calendarApi.next();\n    setDate(calendarApi.getDate());\n  };\n\n  useEffect(() => {\n    let mounted = true;\n\n    const fetchEvents = () => {\n      if (mounted) {\n        axios\n          .get('/api/calendar')\n          .then((response) => setEvents(response.data.events));\n      }\n    };\n\n    fetchEvents();\n\n    return () => {\n      mounted = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    const calendarApi = calendarRef.current.getApi();\n    const newView = mobileDevice ? 'listWeek' : 'dayGridMonth';\n\n    calendarApi.changeView(newView);\n    setView(newView);\n  }, [mobileDevice]);\n\n  return (\n    <Page\n      className={classes.root}\n      title=\"Home Page\"\n    >\n      <Overview />\n      <Container maxWidth=\"lg\">\n        <Toolbar\n          date={date}\n          onDateNext={handleDateNext}\n          onDatePrev={handleDatePrev}\n          onDateToday={handleDateToday}\n          onEventAdd={handleEventNew}\n          onViewChange={handleViewChange}\n          view={view}\n        />\n        <Card className={classes.card}>\n          <CardContent>\n            <FullCalendar\n              allDayMaintainDuration\n              defaultDate={date}\n              defaultView={view}\n              droppable\n              editable\n              eventClick={handleEventClick}\n              eventResizableFromStart\n              events={events}\n              header={false}\n              height={800}\n              plugins={[\n                dayGridPlugin,\n                timeGridPlugin,\n                interactionPlugin,\n                listPlugin,\n                timelinePlugin\n              ]}\n              ref={calendarRef}\n              rerenderDelay={10}\n              selectable\n              weekends\n            />\n          </CardContent>\n        </Card>\n        <Modal\n          onClose={handleModalClose}\n          open={eventModal.open}\n        >\n          <AddEditEvent\n            event={eventModal.event}\n            onAdd={handleEventAdd}\n            onCancel={handleModalClose}\n            onDelete={handleEventDelete}\n            onEdit={handleEventEdit}\n          />\n        </Modal>\n      </Container>\n    </Page>\n  );\n}\n\nexport default Calendar;\n"]},"metadata":{},"sourceType":"module"}