{"ast":null,"code":"import _slicedToArray from \"/Users/anhnguyen/Desktop/GitHub/Projects/TimeMatcher/birthday-reminder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/anhnguyen/Desktop/GitHub/Projects/TimeMatcher/birthday-reminder/src/views/ProjectDetails/index.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/styles';\nimport { Container, Tabs, Tab, Divider, colors } from '@material-ui/core';\nimport axios from 'src/utils/axios';\nimport Page from 'src/components/Page';\nimport Alert from 'src/components/Alert';\nimport Header from './Header';\nimport Overview from './Overview';\nimport Files from './Files';\nimport Activities from './Activities';\nimport Subscribers from './Subscribers';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      paddingTop: theme.spacing(3),\n      paddingBottom: theme.spacing(3)\n    },\n    tabs: {\n      marginTop: theme.spacing(3)\n    },\n    divider: {\n      backgroundColor: colors.grey[300]\n    },\n    alert: {\n      marginTop: theme.spacing(3)\n    },\n    content: {\n      marginTop: theme.spacing(3)\n    }\n  };\n});\n\nfunction ProjectDetails(_ref) {\n  var _this = this;\n\n  var match = _ref.match,\n      history = _ref.history;\n  var classes = useStyles();\n  var _match$params = match.params,\n      id = _match$params.id,\n      tab = _match$params.tab;\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      openAlert = _useState2[0],\n      setOpenAlert = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      project = _useState4[0],\n      setProject = _useState4[1];\n\n  var tabs = [{\n    value: 'overview',\n    label: 'Overview'\n  }, {\n    value: 'files',\n    label: 'Files'\n  }, {\n    value: 'activity',\n    label: 'Activity'\n  }, {\n    value: 'subscribers',\n    label: 'Subscribers'\n  }];\n\n  var handleAlertClose = function handleAlertClose() {\n    setOpenAlert(false);\n  };\n\n  var handleTabsChange = function handleTabsChange(event, value) {\n    history.push(value);\n  };\n\n  useEffect(function () {\n    var mounted = true;\n\n    var fetchProject = function fetchProject() {\n      axios.get('/api/projects/1').then(function (response) {\n        if (mounted) {\n          setProject(response.data.project);\n        }\n      });\n    };\n\n    fetchProject();\n    return function () {\n      mounted = false;\n    };\n  }, []);\n\n  if (!tab) {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/projects/\".concat(id, \"/overview\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 12\n      }\n    });\n  }\n\n  if (!tabs.find(function (t) {\n    return t.value === tab;\n  })) {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/errors/error-404\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 12\n      }\n    });\n  }\n\n  if (!project) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(Page, {\n    className: classes.root,\n    title: \"Project Details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    maxWidth: \"lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    project: project,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Tabs, {\n    className: classes.tabs,\n    onChange: handleTabsChange,\n    scrollButtons: \"auto\",\n    value: tab,\n    variant: \"scrollable\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, tabs.map(function (tab) {\n    return /*#__PURE__*/React.createElement(Tab, {\n      key: tab.value,\n      label: tab.label,\n      value: tab.value,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }\n    });\n  })), /*#__PURE__*/React.createElement(Divider, {\n    className: classes.divider,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }\n  }), openAlert && /*#__PURE__*/React.createElement(Alert, {\n    className: classes.alert,\n    message: \"The content holder has extended the deadline! Good luck\",\n    onClose: handleAlertClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }, tab === 'overview' && /*#__PURE__*/React.createElement(Overview, {\n    project: project,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 34\n    }\n  }), tab === 'files' && /*#__PURE__*/React.createElement(Files, {\n    files: project.files,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 31\n    }\n  }), tab === 'activity' && /*#__PURE__*/React.createElement(Activities, {\n    activities: project.activities,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 34\n    }\n  }), tab === 'subscribers' && /*#__PURE__*/React.createElement(Subscribers, {\n    subscribers: project.subscribers,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }))));\n}\n\nProjectDetails.propTypes = {\n  history: PropTypes.object.isRequired,\n  match: PropTypes.object.isRequired\n};\nexport default ProjectDetails;","map":{"version":3,"sources":["/Users/anhnguyen/Desktop/GitHub/Projects/TimeMatcher/birthday-reminder/src/views/ProjectDetails/index.js"],"names":["React","useState","useEffect","Redirect","PropTypes","makeStyles","Container","Tabs","Tab","Divider","colors","axios","Page","Alert","Header","Overview","Files","Activities","Subscribers","useStyles","theme","root","paddingTop","spacing","paddingBottom","tabs","marginTop","divider","backgroundColor","grey","alert","content","ProjectDetails","match","history","classes","params","id","tab","openAlert","setOpenAlert","project","setProject","value","label","handleAlertClose","handleTabsChange","event","push","mounted","fetchProject","get","then","response","data","find","t","map","files","activities","subscribers","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/styles';\nimport {\n  Container,\n  Tabs,\n  Tab,\n  Divider,\n  colors\n} from '@material-ui/core';\nimport axios from 'src/utils/axios';\nimport Page from 'src/components/Page';\nimport Alert from 'src/components/Alert';\nimport Header from './Header';\nimport Overview from './Overview';\nimport Files from './Files';\nimport Activities from './Activities';\nimport Subscribers from './Subscribers';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    paddingTop: theme.spacing(3),\n    paddingBottom: theme.spacing(3)\n  },\n  tabs: {\n    marginTop: theme.spacing(3)\n  },\n  divider: {\n    backgroundColor: colors.grey[300]\n  },\n  alert: {\n    marginTop: theme.spacing(3)\n  },\n  content: {\n    marginTop: theme.spacing(3)\n  }\n}));\n\nfunction ProjectDetails({ match, history }) {\n  const classes = useStyles();\n  const { id, tab } = match.params;\n  const [openAlert, setOpenAlert] = useState(true);\n  const [project, setProject] = useState(null);\n  const tabs = [\n    { value: 'overview', label: 'Overview' },\n    { value: 'files', label: 'Files' },\n    { value: 'activity', label: 'Activity' },\n    { value: 'subscribers', label: 'Subscribers' }\n  ];\n\n  const handleAlertClose = () => {\n    setOpenAlert(false);\n  };\n\n  const handleTabsChange = (event, value) => {\n    history.push(value);\n  };\n\n  useEffect(() => {\n    let mounted = true;\n\n    const fetchProject = () => {\n      axios.get('/api/projects/1').then((response) => {\n        if (mounted) {\n          setProject(response.data.project);\n        }\n      });\n    };\n\n    fetchProject();\n\n    return () => {\n      mounted = false;\n    };\n  }, []);\n\n  if (!tab) {\n    return <Redirect to={`/projects/${id}/overview`} />;\n  }\n\n  if (!tabs.find((t) => t.value === tab)) {\n    return <Redirect to=\"/errors/error-404\" />;\n  }\n\n  if (!project) {\n    return null;\n  }\n\n  return (\n    <Page\n      className={classes.root}\n      title=\"Project Details\"\n    >\n      <Container maxWidth=\"lg\">\n        <Header project={project} />\n        <Tabs\n          className={classes.tabs}\n          onChange={handleTabsChange}\n          scrollButtons=\"auto\"\n          value={tab}\n          variant=\"scrollable\"\n        >\n          {tabs.map((tab) => (\n            <Tab\n              key={tab.value}\n              label={tab.label}\n              value={tab.value}\n            />\n          ))}\n        </Tabs>\n        <Divider className={classes.divider} />\n        {openAlert && (\n          <Alert\n            className={classes.alert}\n            message=\"The content holder has extended the deadline! Good luck\"\n            onClose={handleAlertClose}\n          />\n        )}\n        <div className={classes.content}>\n          {tab === 'overview' && <Overview project={project} />}\n          {tab === 'files' && <Files files={project.files} />}\n          {tab === 'activity' && <Activities activities={project.activities} />}\n          {tab === 'subscribers' && (\n            <Subscribers subscribers={project.subscribers} />\n          )}\n        </div>\n      </Container>\n    </Page>\n  );\n}\n\nProjectDetails.propTypes = {\n  history: PropTypes.object.isRequired,\n  match: PropTypes.object.isRequired\n};\n\nexport default ProjectDetails;\n"]},"metadata":{},"sourceType":"module"}