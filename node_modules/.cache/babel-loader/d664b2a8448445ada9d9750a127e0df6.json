{"ast":null,"code":"import _slicedToArray from \"/Users/anhnguyen/Desktop/GitHub/Projects/TimeMatcher/birthday-reminder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"/Users/anhnguyen/Desktop/GitHub/Projects/TimeMatcher/birthday-reminder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _objectSpread from \"/Users/anhnguyen/Desktop/GitHub/Projects/TimeMatcher/birthday-reminder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/Users/anhnguyen/Desktop/GitHub/Projects/TimeMatcher/birthday-reminder/src/components/RichEditor/index.js\";\nimport React, { useState, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { Editor, EditorState, RichUtils, Modifier, getDefaultKeyBinding } from 'draft-js';\nimport { makeStyles } from '@material-ui/styles';\nimport { Paper, Divider } from '@material-ui/core';\nimport EditorToolbar from './EditorToolbar';\nimport { blockRenderMap } from './block';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {},\n    editorContainer: {\n      padding: theme.spacing(2),\n      minHeight: 400,\n      '&:focus': {\n        outline: 'none'\n      },\n      '& .public-DraftEditorPlaceholder-root': _objectSpread({}, theme.typography.body2),\n      '& .public-DraftEditorPlaceholder-hasFocus': {\n        display: 'none'\n      },\n      '& .public-DraftEditor-content': _objectSpread({}, theme.typography.body1, {\n        '& h1': _objectSpread({}, theme.typography.h1),\n        '& h2': _objectSpread({}, theme.typography.h2),\n        '& h3': _objectSpread({}, theme.typography.h3),\n        '& h4': _objectSpread({}, theme.typography.h4),\n        '& h5': _objectSpread({}, theme.typography.h5),\n        '& h6': _objectSpread({}, theme.typography.h6),\n        '& blockquote': _objectSpread({}, theme.typography.subtitle1),\n        '& ul': _objectSpread({}, theme.typography.body1, {\n          marginLeft: theme.spacing(4)\n        }),\n        '& ol': _objectSpread({}, theme.typography.body1, {\n          marginLeft: theme.spacing(4)\n        }),\n        '& pre': {\n          backgroundColor: 'rgba(0, 0, 0, 0.05)',\n          fontFamily: '\"Inconsolata\", \"Menlo\", \"Consolas\", monospace',\n          fontSize: 16,\n          padding: 2\n        }\n      })\n    },\n    textAlignLeft: {\n      textAlign: 'left'\n    },\n    textAlignCenter: {\n      textAlign: 'center'\n    },\n    textAlignRight: {\n      textAlign: 'right'\n    },\n    textAlignJustify: {\n      textAlign: 'justify'\n    }\n  };\n});\n\nvar capitalize = function capitalize(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n};\n\nfunction RichEditor(_ref) {\n  var placeholder = _ref.placeholder,\n      className = _ref.className,\n      rest = _objectWithoutProperties(_ref, [\"placeholder\", \"className\"]);\n\n  var classes = useStyles();\n  var editorRef = useRef(null);\n\n  var _useState = useState(EditorState.createEmpty()),\n      _useState2 = _slicedToArray(_useState, 2),\n      editorState = _useState2[0],\n      setEditorState = _useState2[1];\n\n  var handleContainerClick = function handleContainerClick() {\n    editorRef.current.focus();\n  };\n\n  var handleToolbarToggle = function handleToolbarToggle(type, value) {\n    if (type === 'blockType') {\n      if (['left', 'center', 'right', 'justify'].includes(value)) {\n        var newContentState = Modifier.setBlockData(editorState.getCurrentContent(), editorState.getSelection(), {\n          'text-align': value\n        });\n        var newEditorState = EditorState.push(editorState, newContentState, 'change-block-data');\n        setEditorState(newEditorState);\n        return;\n      }\n\n      setEditorState(RichUtils.toggleBlockType(editorState, value));\n    } else {\n      setEditorState(RichUtils.toggleInlineStyle(editorState, value));\n    }\n  };\n\n  var handleEditorChange = function handleEditorChange(newState) {\n    setEditorState(newState);\n  };\n\n  var handleKeyCommand = function handleKeyCommand(command, editorState) {\n    var newState = RichUtils.handleKeyCommand(editorState, command);\n\n    if (newState) {\n      handleEditorChange(newState);\n      return true;\n    }\n\n    return false;\n  };\n\n  var mapKeyToEditorCommand = function mapKeyToEditorCommand(event) {\n    if (event.keyCode === 9) {\n      var newEditorState = RichUtils.onTab(event, editorState, 4);\n\n      if (newEditorState !== editorState) {\n        handleEditorChange(newEditorState);\n      }\n\n      return;\n    }\n\n    return getDefaultKeyBinding(event);\n  };\n\n  var blockStyleFn = function blockStyleFn(contentBlock) {\n    var textAlign = contentBlock.getData().get('text-align');\n\n    if (textAlign) {\n      return classes[\"textAlign\".concat(capitalize(textAlign))];\n    }\n\n    return '';\n  };\n\n  return /*#__PURE__*/React.createElement(Paper, Object.assign({}, rest, {\n    className: clsx(classes.root, className),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(EditorToolbar, {\n    editorState: editorState,\n    onToggle: handleToolbarToggle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    \"aria-label\": \"Editor Container\",\n    className: classes.editorContainer,\n    role: \"button\",\n    onClick: handleContainerClick,\n    tabIndex: 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Editor, {\n    blockRenderMap: blockRenderMap,\n    blockStyleFn: blockStyleFn,\n    editorState: editorState,\n    handleKeyCommand: handleKeyCommand,\n    keyBindingFn: mapKeyToEditorCommand,\n    onChange: handleEditorChange,\n    placeholder: placeholder,\n    ref: editorRef,\n    spellCheck: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 9\n    }\n  })));\n}\n\nRichEditor.propTypes = {\n  className: PropTypes.string,\n  placeholder: PropTypes.string\n};\nexport default RichEditor;","map":{"version":3,"sources":["/Users/anhnguyen/Desktop/GitHub/Projects/TimeMatcher/birthday-reminder/src/components/RichEditor/index.js"],"names":["React","useState","useRef","PropTypes","clsx","Editor","EditorState","RichUtils","Modifier","getDefaultKeyBinding","makeStyles","Paper","Divider","EditorToolbar","blockRenderMap","useStyles","theme","root","editorContainer","padding","spacing","minHeight","outline","typography","body2","display","body1","h1","h2","h3","h4","h5","h6","subtitle1","marginLeft","backgroundColor","fontFamily","fontSize","textAlignLeft","textAlign","textAlignCenter","textAlignRight","textAlignJustify","capitalize","string","charAt","toUpperCase","slice","RichEditor","placeholder","className","rest","classes","editorRef","createEmpty","editorState","setEditorState","handleContainerClick","current","focus","handleToolbarToggle","type","value","includes","newContentState","setBlockData","getCurrentContent","getSelection","newEditorState","push","toggleBlockType","toggleInlineStyle","handleEditorChange","newState","handleKeyCommand","command","mapKeyToEditorCommand","event","keyCode","onTab","blockStyleFn","contentBlock","getData","get","propTypes"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport {\n  Editor,\n  EditorState,\n  RichUtils,\n  Modifier,\n  getDefaultKeyBinding\n} from 'draft-js';\nimport { makeStyles } from '@material-ui/styles';\nimport { Paper, Divider } from '@material-ui/core';\nimport EditorToolbar from './EditorToolbar';\nimport { blockRenderMap } from './block';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {},\n  editorContainer: {\n    padding: theme.spacing(2),\n    minHeight: 400,\n    '&:focus': {\n      outline: 'none'\n    },\n    '& .public-DraftEditorPlaceholder-root': {\n      ...theme.typography.body2\n    },\n    '& .public-DraftEditorPlaceholder-hasFocus': {\n      display: 'none'\n    },\n    '& .public-DraftEditor-content': {\n      ...theme.typography.body1,\n      '& h1': {\n        ...theme.typography.h1\n      },\n      '& h2': {\n        ...theme.typography.h2\n      },\n      '& h3': {\n        ...theme.typography.h3\n      },\n      '& h4': {\n        ...theme.typography.h4\n      },\n      '& h5': {\n        ...theme.typography.h5\n      },\n      '& h6': {\n        ...theme.typography.h6\n      },\n      '& blockquote': {\n        ...theme.typography.subtitle1\n      },\n      '& ul': {\n        ...theme.typography.body1,\n        marginLeft: theme.spacing(4)\n      },\n      '& ol': {\n        ...theme.typography.body1,\n        marginLeft: theme.spacing(4)\n      },\n      '& pre': {\n        backgroundColor: 'rgba(0, 0, 0, 0.05)',\n        fontFamily: '\"Inconsolata\", \"Menlo\", \"Consolas\", monospace',\n        fontSize: 16,\n        padding: 2\n      }\n    }\n  },\n  textAlignLeft: {\n    textAlign: 'left'\n  },\n  textAlignCenter: {\n    textAlign: 'center'\n  },\n  textAlignRight: {\n    textAlign: 'right'\n  },\n  textAlignJustify: {\n    textAlign: 'justify'\n  }\n}));\n\nconst capitalize = (string) => string.charAt(0).toUpperCase() + string.slice(1);\n\nfunction RichEditor({ placeholder, className, ...rest }) {\n  const classes = useStyles();\n  const editorRef = useRef(null);\n  const [editorState, setEditorState] = useState(EditorState.createEmpty());\n\n  const handleContainerClick = () => {\n    editorRef.current.focus();\n  };\n\n  const handleToolbarToggle = (type, value) => {\n    if (type === 'blockType') {\n      if (['left', 'center', 'right', 'justify'].includes(value)) {\n        const newContentState = Modifier.setBlockData(\n          editorState.getCurrentContent(),\n          editorState.getSelection(),\n          { 'text-align': value }\n        );\n\n        const newEditorState = EditorState.push(\n          editorState,\n          newContentState,\n          'change-block-data'\n        );\n\n        setEditorState(newEditorState);\n        return;\n      }\n\n      setEditorState(RichUtils.toggleBlockType(editorState, value));\n    } else {\n      setEditorState(RichUtils.toggleInlineStyle(editorState, value));\n    }\n  };\n\n  const handleEditorChange = (newState) => {\n    setEditorState(newState);\n  };\n\n  const handleKeyCommand = (command, editorState) => {\n    const newState = RichUtils.handleKeyCommand(editorState, command);\n\n    if (newState) {\n      handleEditorChange(newState);\n      return true;\n    }\n\n    return false;\n  };\n\n  const mapKeyToEditorCommand = (event) => {\n    if (event.keyCode === 9) {\n      const newEditorState = RichUtils.onTab(event, editorState, 4);\n\n      if (newEditorState !== editorState) {\n        handleEditorChange(newEditorState);\n      }\n\n      return;\n    }\n\n    return getDefaultKeyBinding(event);\n  };\n\n  const blockStyleFn = (contentBlock) => {\n    const textAlign = contentBlock.getData().get('text-align');\n\n    if (textAlign) {\n      return classes[`textAlign${capitalize(textAlign)}`];\n    }\n\n    return '';\n  };\n\n  return (\n    <Paper\n      {...rest}\n      className={clsx(classes.root, className)}\n    >\n      <EditorToolbar\n        editorState={editorState}\n        onToggle={handleToolbarToggle}\n      />\n      <Divider />\n      <div\n        aria-label=\"Editor Container\"\n        className={classes.editorContainer}\n        role=\"button\"\n        onClick={handleContainerClick}\n        tabIndex={0}\n      >\n        <Editor\n          blockRenderMap={blockRenderMap}\n          blockStyleFn={blockStyleFn}\n          editorState={editorState}\n          handleKeyCommand={handleKeyCommand}\n          keyBindingFn={mapKeyToEditorCommand}\n          onChange={handleEditorChange}\n          placeholder={placeholder}\n          ref={editorRef}\n          spellCheck\n        />\n      </div>\n    </Paper>\n  );\n}\n\nRichEditor.propTypes = {\n  className: PropTypes.string,\n  placeholder: PropTypes.string\n};\n\nexport default RichEditor;\n"]},"metadata":{},"sourceType":"module"}