{"ast":null,"code":"import _slicedToArray from \"/Users/anhnguyen/Desktop/GitHub/Projects/TimeMatcher/birthday-reminder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"/Users/anhnguyen/Desktop/GitHub/Projects/TimeMatcher/birthday-reminder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"/Users/anhnguyen/Desktop/GitHub/Projects/TimeMatcher/birthday-reminder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/anhnguyen/Desktop/GitHub/Projects/TimeMatcher/birthday-reminder/src/views/Mail/EmailList/EmailItem.js\";\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport moment from 'moment';\nimport { makeStyles } from '@material-ui/styles';\nimport { Avatar, Checkbox, IconButton, ListItem, Tooltip, Typography, colors } from '@material-ui/core';\nimport StarIcon from '@material-ui/icons/Star';\nimport StarBorderIcon from '@material-ui/icons/StarBorder';\nimport getInitials from 'src/utils/getInitials';\nimport Label from 'src/components/Label';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      cursor: 'pointer',\n      display: 'flex',\n      alignItems: 'center',\n      '&:hover': {\n        backgroundColor: colors.grey[50]\n      }\n    },\n    new: {\n      position: 'relative',\n      '&:before': {\n        content: '\" \"',\n        height: '100%',\n        position: 'absolute',\n        left: 0,\n        top: 0,\n        width: 4,\n        backgroundColor: theme.palette.error.main\n      },\n      '& $name, & $subject': {\n        fontWeight: theme.typography.fontWeightBold\n      }\n    },\n    selected: {\n      backgroundColor: colors.grey[50]\n    },\n    checkbox: _defineProperty({\n      marginRight: theme.spacing(1)\n    }, theme.breakpoints.down('sm'), {\n      display: 'none'\n    }),\n    favoriteButton: _defineProperty({\n      marginRight: theme.spacing(2)\n    }, theme.breakpoints.down('sm'), {\n      display: 'none'\n    }),\n    starIcon: {\n      cursor: 'pointer'\n    },\n    starFilledIcon: {\n      color: colors.amber[400]\n    },\n    details: {\n      minWidth: 1,\n      display: 'flex',\n      flexGrow: 1\n    },\n    avatar: {\n      marginRight: theme.spacing(2)\n    },\n    name: _defineProperty({\n      whiteSpace: 'nowrap'\n    }, theme.breakpoints.up('md'), {\n      minWidth: 180,\n      flexBasis: 180\n    }),\n    content: _defineProperty({\n      minWidth: 1\n    }, theme.breakpoints.up('md'), {\n      display: 'flex',\n      alignItems: 'center',\n      flexGrow: 1\n    }),\n    subject: {\n      maxWidth: 400,\n      whiteSpace: 'nowrap',\n      overflow: 'hidden',\n      textOverflow: 'ellipsis'\n    },\n    separator: _defineProperty({\n      marginLeft: theme.spacing(2),\n      marginRight: theme.spacing(2)\n    }, theme.breakpoints.down('sm'), {\n      display: 'none'\n    }),\n    message: _defineProperty({\n      maxWidth: 800,\n      flexGrow: 1,\n      whiteSpace: 'nowrap',\n      overflow: 'hidden',\n      textOverflow: 'ellipsis',\n      marginRight: 'auto'\n    }, theme.breakpoints.down('sm'), {\n      display: 'none'\n    }),\n    labels: _defineProperty({\n      display: 'flex',\n      marginRight: theme.spacing(2),\n      '& > * + *': {\n        marginLeft: theme.spacing(1)\n      }\n    }, theme.breakpoints.down('sm'), {\n      display: 'none'\n    }),\n    date: {\n      whiteSpace: 'nowrap'\n    }\n  };\n});\n\nfunction EmailItem(_ref) {\n  var _clsx,\n      _this = this;\n\n  var email = _ref.email,\n      selected = _ref.selected,\n      onOpen = _ref.onOpen,\n      onToggle = _ref.onToggle,\n      className = _ref.className,\n      rest = _objectWithoutProperties(_ref, [\"email\", \"selected\", \"onOpen\", \"onToggle\", \"className\"]);\n\n  var classes = useStyles();\n\n  var _useState = useState(email.favorited),\n      _useState2 = _slicedToArray(_useState, 2),\n      favorited = _useState2[0],\n      setFavorited = _useState2[1];\n\n  var handleFavorite = function handleFavorite() {\n    setFavorited(function (prevFavorited) {\n      return !prevFavorited;\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(ListItem, Object.assign({}, rest, {\n    className: clsx(classes.root, (_clsx = {}, _defineProperty(_clsx, classes.new, !email.seen), _defineProperty(_clsx, classes.selected, selected), _clsx), className),\n    divider: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Checkbox, {\n    checked: selected,\n    className: classes.checkbox,\n    color: \"primary\",\n    onChange: onToggle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Tooltip, {\n    title: \"Add to favs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    className: classes.favoriteButton,\n    onClick: handleFavorite,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 9\n    }\n  }, favorited ? /*#__PURE__*/React.createElement(StarIcon, {\n    className: clsx(classes.starIcon, classes.starFilledIcon),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }\n  }) : /*#__PURE__*/React.createElement(StarBorderIcon, {\n    className: classes.starIcon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.details,\n    onClick: onOpen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    className: classes.avatar,\n    src: email.receiver.avatar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 9\n    }\n  }, getInitials(email.receiver.name)), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    className: classes.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 11\n    }\n  }, email.receiver.name), /*#__PURE__*/React.createElement(Typography, {\n    className: classes.subject,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 11\n    }\n  }, email.subject), /*#__PURE__*/React.createElement(Typography, {\n    className: classes.message,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.separator,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 13\n    }\n  }, \"-\"), email.message), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.labels,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 11\n    }\n  }, email.labels.map(function (label) {\n    return /*#__PURE__*/React.createElement(Label, {\n      color: label.color,\n      key: label.text,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 15\n      }\n    }, label.text);\n  })), /*#__PURE__*/React.createElement(Typography, {\n    className: classes.date,\n    variant: \"body2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 11\n    }\n  }, moment(email.created_at).format('DD MMM YYYY')))));\n}\n\nEmailItem.propTypes = {\n  className: PropTypes.string,\n  email: PropTypes.object.isRequired,\n  onOpen: PropTypes.func,\n  onToggle: PropTypes.func,\n  selected: PropTypes.bool.isRequired\n};\nexport default EmailItem;","map":{"version":3,"sources":["/Users/anhnguyen/Desktop/GitHub/Projects/TimeMatcher/birthday-reminder/src/views/Mail/EmailList/EmailItem.js"],"names":["React","useState","PropTypes","clsx","moment","makeStyles","Avatar","Checkbox","IconButton","ListItem","Tooltip","Typography","colors","StarIcon","StarBorderIcon","getInitials","Label","useStyles","theme","root","cursor","display","alignItems","backgroundColor","grey","new","position","content","height","left","top","width","palette","error","main","fontWeight","typography","fontWeightBold","selected","checkbox","marginRight","spacing","breakpoints","down","favoriteButton","starIcon","starFilledIcon","color","amber","details","minWidth","flexGrow","avatar","name","whiteSpace","up","flexBasis","subject","maxWidth","overflow","textOverflow","separator","marginLeft","message","labels","date","EmailItem","email","onOpen","onToggle","className","rest","classes","favorited","setFavorited","handleFavorite","prevFavorited","seen","receiver","map","label","text","created_at","format","propTypes","string","object","isRequired","func","bool"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport moment from 'moment';\nimport { makeStyles } from '@material-ui/styles';\nimport {\n  Avatar,\n  Checkbox,\n  IconButton,\n  ListItem,\n  Tooltip,\n  Typography,\n  colors\n} from '@material-ui/core';\nimport StarIcon from '@material-ui/icons/Star';\nimport StarBorderIcon from '@material-ui/icons/StarBorder';\nimport getInitials from 'src/utils/getInitials';\nimport Label from 'src/components/Label';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    cursor: 'pointer',\n    display: 'flex',\n    alignItems: 'center',\n    '&:hover': {\n      backgroundColor: colors.grey[50]\n    }\n  },\n  new: {\n    position: 'relative',\n    '&:before': {\n      content: '\" \"',\n      height: '100%',\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      width: 4,\n      backgroundColor: theme.palette.error.main\n    },\n    '& $name, & $subject': {\n      fontWeight: theme.typography.fontWeightBold\n    }\n  },\n  selected: {\n    backgroundColor: colors.grey[50]\n  },\n  checkbox: {\n    marginRight: theme.spacing(1),\n    [theme.breakpoints.down('sm')]: {\n      display: 'none'\n    }\n  },\n  favoriteButton: {\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.down('sm')]: {\n      display: 'none'\n    }\n  },\n  starIcon: {\n    cursor: 'pointer'\n  },\n  starFilledIcon: {\n    color: colors.amber[400]\n  },\n  details: {\n    minWidth: 1,\n    display: 'flex',\n    flexGrow: 1\n  },\n  avatar: {\n    marginRight: theme.spacing(2)\n  },\n  name: {\n    whiteSpace: 'nowrap',\n    [theme.breakpoints.up('md')]: {\n      minWidth: 180,\n      flexBasis: 180\n    }\n  },\n  content: {\n    minWidth: 1,\n    [theme.breakpoints.up('md')]: {\n      display: 'flex',\n      alignItems: 'center',\n      flexGrow: 1\n    }\n  },\n  subject: {\n    maxWidth: 400,\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis'\n  },\n  separator: {\n    marginLeft: theme.spacing(2),\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.down('sm')]: {\n      display: 'none'\n    }\n  },\n  message: {\n    maxWidth: 800,\n    flexGrow: 1,\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    marginRight: 'auto',\n    [theme.breakpoints.down('sm')]: {\n      display: 'none'\n    }\n  },\n  labels: {\n    display: 'flex',\n    marginRight: theme.spacing(2),\n    '& > * + *': {\n      marginLeft: theme.spacing(1)\n    },\n    [theme.breakpoints.down('sm')]: {\n      display: 'none'\n    }\n  },\n  date: {\n    whiteSpace: 'nowrap'\n  }\n}));\n\nfunction EmailItem({\n  email,\n  selected,\n  onOpen,\n  onToggle,\n  className,\n  ...rest\n}) {\n  const classes = useStyles();\n  const [favorited, setFavorited] = useState(email.favorited);\n\n  const handleFavorite = () => {\n    setFavorited((prevFavorited) => !prevFavorited);\n  };\n\n  return (\n    <ListItem\n      {...rest}\n      className={clsx(\n        classes.root,\n        {\n          [classes.new]: !email.seen,\n          [classes.selected]: selected\n        },\n        className\n      )}\n      divider\n    >\n      <Checkbox\n        checked={selected}\n        className={classes.checkbox}\n        color=\"primary\"\n        onChange={onToggle}\n      />\n      <Tooltip title=\"Add to favs\">\n        <IconButton\n          className={classes.favoriteButton}\n          onClick={handleFavorite}\n        >\n          {favorited ? (\n            <StarIcon\n              className={clsx(classes.starIcon, classes.starFilledIcon)}\n            />\n          ) : (\n            <StarBorderIcon className={classes.starIcon} />\n          )}\n        </IconButton>\n      </Tooltip>\n      <div\n        className={classes.details}\n        onClick={onOpen}\n      >\n        <Avatar\n          className={classes.avatar}\n          src={email.receiver.avatar}\n        >\n          {getInitials(email.receiver.name)}\n        </Avatar>\n        <div className={classes.content}>\n          <Typography className={classes.name}>\n            {email.receiver.name}\n          </Typography>\n          <Typography className={classes.subject}>{email.subject}</Typography>\n          <Typography className={classes.message}>\n            <span className={classes.separator}>-</span>\n            {email.message}\n          </Typography>\n          <div className={classes.labels}>\n            {email.labels.map((label) => (\n              <Label\n                color={label.color}\n                key={label.text}\n              >\n                {label.text}\n              </Label>\n            ))}\n          </div>\n          <Typography\n            className={classes.date}\n            variant=\"body2\"\n          >\n            {moment(email.created_at).format('DD MMM YYYY')}\n          </Typography>\n        </div>\n      </div>\n    </ListItem>\n  );\n}\n\nEmailItem.propTypes = {\n  className: PropTypes.string,\n  email: PropTypes.object.isRequired,\n  onOpen: PropTypes.func,\n  onToggle: PropTypes.func,\n  selected: PropTypes.bool.isRequired\n};\n\nexport default EmailItem;\n"]},"metadata":{},"sourceType":"module"}